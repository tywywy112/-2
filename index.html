<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Flag Match AI Game</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #eef2ff;
    text-align: center;
    padding: 30px;
}

.game-box {
    background: white;
    padding: 20px;
    border-radius: 15px;
    max-width: 460px;
    margin: auto;
}

.flag {
    font-size: 80px;
    margin: 15px 0;
}

.continent-btn {
    display: inline-block;
    width: 180px;
    padding: 12px;
    margin: 8px;
    border-radius: 12px;
    border: none;
    background: #4f46e5;
    color: white;
    font-size: 16px;
    cursor: pointer;
}

.continent-btn:hover {
    background: #4338ca;
}

.info {
    margin-top: 15px;
    font-size: 16px;
}
</style>
</head>

<body>

<div class="game-box">
    <h2>üåç Flag Match AI Game</h2>

    <div class="flag" id="flag">üè≥Ô∏è</div>

    <div id="choices"></div>

    <div class="info">
        ‚è± ‡πÄ‡∏ß‡∏•‡∏≤: <span id="time">15</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ  
        <br>‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span>
        <br>üéØ ‡∏î‡πà‡∏≤‡∏ô: <span id="level">1</span>
    </div>
</div>

<script>
// ====================
// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® (30 ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®)
// ====================
const countries = [
    // Asia
    {flag:"üáπüá≠", continent:"Asia"},
    {flag:"üáØüáµ", continent:"Asia"},
    {flag:"üá®üá≥", continent:"Asia"},
    {flag:"üá∞üá∑", continent:"Asia"},
    {flag:"üáÆüá≥", continent:"Asia"},
    {flag:"üáÆüá©", continent:"Asia"},

    // Europe
    {flag:"üá´üá∑", continent:"Europe"},
    {flag:"üá©üá™", continent:"Europe"},
    {flag:"üáÆüáπ", continent:"Europe"},
    {flag:"üá™üá∏", continent:"Europe"},
    {flag:"üá¨üáß", continent:"Europe"},
    {flag:"üá≥üá±", continent:"Europe"},

    // Africa
    {flag:"üá™üá¨", continent:"Africa"},
    {flag:"üá≥üá¨", continent:"Africa"},
    {flag:"üá∞üá™", continent:"Africa"},
    {flag:"üáøüá¶", continent:"Africa"},
    {flag:"üá≤üá¶", continent:"Africa"},

    // North America
    {flag:"üá∫üá∏", continent:"North America"},
    {flag:"üá®üá¶", continent:"North America"},
    {flag:"üá≤üáΩ", continent:"North America"},
    {flag:"üá®üá∫", continent:"North America"},

    // South America
    {flag:"üáßüá∑", continent:"South America"},
    {flag:"üá¶üá∑", continent:"South America"},
    {flag:"üá®üá±", continent:"South America"},
    {flag:"üáµüá™", continent:"South America"},

    // Oceania
    {flag:"üá¶üá∫", continent:"Oceania"},
    {flag:"üá≥üáø", continent:"Oceania"}
];

// ====================
// ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡∏°
// ====================
let score = 0;
let level = 1;
let timeLeft = 15;
let timer = null;
let current;

// ====================
// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà
// ====================
function startRound() {
    clearInterval(timer);

    timeLeft = 15;
    document.getElementById("time").innerText = timeLeft;

    current = countries[Math.floor(Math.random() * countries.length)];
    document.getElementById("flag").innerText = current.flag;

    const allContinents = [...new Set(countries.map(c => c.continent))];
    const optionCount = Math.min(2 + level, allContinents.length);
    const options = shuffle(allContinents).slice(0, optionCount);

    const box = document.getElementById("choices");
    box.innerHTML = "";

    options.forEach(cont => {
        const btn = document.createElement("button");
        btn.className = "continent-btn";
        btn.innerText = cont;
        btn.onclick = () => checkAnswer(cont);
        box.appendChild(btn);
    });

    startTimer();
}

// ====================
// ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
// ====================
function checkAnswer(answer) {
    if (answer === current.continent) {
        score += 10;
        if (score % 30 === 0) level++;
    }
    updateInfo();
    startRound();
}

// ====================
// ‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ (‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≠‡∏ô)
// ====================
function startTimer() {
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("time").innerText = timeLeft;

        if (timeLeft <= 0) {
            clearInterval(timer);
            startRound();
        }
    }, 1000);
}

function updateInfo() {
    document.getElementById("score").innerText = score;
    document.getElementById("level").innerText = level;
}

function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
}

// ====================
// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
// ====================
startRound();
</script>

</body>
</html>
